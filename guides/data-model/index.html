<!DOCTYPE html><html lang="en" dir="ltr" data-has-toc data-has-sidebar data-theme="dark" class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Annotation Data Model | Annotorious</title><link rel="canonical"/><link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v4.14.5"/><meta name="generator" content="Starlight v0.26.1"/><meta property="og:title" content="Annotation Data Model"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description"/><meta property="og:site_name" content="Annotorious"/><meta name="twitter:card" content="summary_large_image"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/_astro/index.DihhqWUO.css">
<style>:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-avdet4wd){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-avdet4wd){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-avdet4wd){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-avdet4wd){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-avdet4wd){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-avdet4wd){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-avdet4wd){vertical-align:middle}
svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}
.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}
.sl-link-button:where(.astro-xwgiixxa){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-xwgiixxa).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-xwgiixxa).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-xwgiixxa) svg{flex-shrink:0}@media (min-width: 50rem){.sl-link-button:where(.astro-xwgiixxa){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa):not(:where(p *)){margin-block:1rem}
</style><script type="module" src="/_astro/hoisted.D06MjzVz.js"></script>
<script type="module" src="/_astro/page.LS5KDvwX.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header sl-flex astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <span class="astro-m46x6ez3"> Annotorious </span> </a>  </div> <div class="sl-flex astro-kmkmnagf"> <site-search data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}" class="astro-v37mnknz"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg>  <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script>    </div> <div class="sl-hidden md:sl-flex right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <a href="https://github.com/withastro/starlight" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected="true" class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div> </div> </header> <nav class="sidebar astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button>    <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="1cfakyh" class="astro-ul5l7bp7"> <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Start Here</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/getting-started" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Getting Started</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/installation" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Installation</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/migration-guide" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Migrating from v2.7</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Guides</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/guides/annotating-images/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Annotating Images</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/data-model/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Annotation Data Model</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/guides/openseadragon/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">OpenSeadragon</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">API Reference</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/api-reference/annotation/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Annotation</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/api-reference/annotation-state/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">AnnotationState</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/api-reference/annotorious-options/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">AnnotoriousOptions</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/api-reference/drawing-style/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">DrawingStyle</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/api-reference/filter/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Filter</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/api-reference/image-annotator/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">ImageAnnotator</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/api-reference/selection/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Selection</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/api-reference/shapes/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Shapes</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/api-reference/user/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">User</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/api-reference/user-select-action/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">UserSelectAction</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">React</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/react/image-annotation/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">React Image Annotation</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/react/openseadragon/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">React OpenSeadragon</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Svelte</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/svelte/image-annotation/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Svelte Image Annotation</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/svelte/openseadragon/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Svelte OpenSeadragon</span>  </a> </li> </ul>  </details> </li> </ul>  </sl-sidebar-state-persist> <div class="md:sl-hidden astro-ul5l7bp7"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="sl-flex social-icons astro-wu23bvmt"> <a href="https://github.com/withastro/starlight" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected="true" class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div>  <script>
	(() => {
		try {
			if (!matchMedia('(min-width: 50em)').matches) return;
			const scroller = document.getElementById('starlight__sidebar');
			/** @type {HTMLElement | null} */
			const target = document.querySelector('sl-sidebar-state-persist');
			const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
			if (!scroller || !target || !state || target.dataset.hash !== state.hash) return;
			target
				.querySelectorAll('details')
				.forEach((el, idx) => typeof state.open[idx] === 'boolean' && (el.open = state.open[idx]));
			scroller.scrollTop = state.scroll;
		} catch {}
	})();
</script>  </div> </div> </nav> <div class="main-frame astro-vrdttmbt">   <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><div class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#anatomy-of-an-annotation" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Anatomy of an Annotation</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#annotation-bodies" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Annotation Bodies</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#leveraging-bodies-in-your-application" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Leveraging Bodies in Your Application</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#key-differences-from-the-w3c-model" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Key Differences from the W3C Model</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#the-w3c-adapter" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">The W3C Adapter</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#anatomy-of-an-annotation" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Anatomy of an Annotation</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#annotation-bodies" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Annotation Bodies</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#leveraging-bodies-in-your-application" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Leveraging Bodies in Your Application</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#key-differences-from-the-w3c-model" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Key Differences from the W3C Model</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#the-w3c-adapter" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">The W3C Adapter</span> </a>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body lang="en" dir="ltr" class="astro-bguv2lll">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">Annotation Data Model</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <p>At the core of Annotorious is a flexible data model that closely
aligns with the <a href="https://www.w3.org/TR/annotation-model/">W3C Web Annotation Data Model</a>,
but with a few key differences to optimize for performance and
ease of use.</p>
<h2 id="anatomy-of-an-annotation">Anatomy of an Annotation</h2>
<p>Every annotation in Annotorious is represented by a JavaScript
object with the following structure:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.24254.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">  </span></span><span style="--0:#D8DEE9">id</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">7fb76422-3a8c-4c87-bbad-7c8bb68399a0</span><span style="--0:#ECEFF4">'</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">  </span></span><span style="--0:#D8DEE9">target</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">    </span></span><span style="--0:#D8DEE9">selector</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">      </span></span><span style="--0:#D8DEE9">type</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">RECTANGLE</span><span style="--0:#ECEFF4">'</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">      </span></span><span style="--0:#D8DEE9">geometry</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">        </span></span><span style="--0:#D8DEE9">bounds</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">            </span></span><span style="--0:#D8DEE9">minX</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">272</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">            </span></span><span style="--0:#D8DEE9">minY</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">169</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">            </span></span><span style="--0:#D8DEE9">maxX</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">393</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">            </span></span><span style="--0:#D8DEE9">maxY</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">259</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#ECEFF4">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">        </span></span><span style="--0:#D8DEE9">x</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">272</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">        </span></span><span style="--0:#D8DEE9">y</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">169</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">        </span></span><span style="--0:#D8DEE9">w</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">121</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">        </span></span><span style="--0:#D8DEE9">h</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">90</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#ECEFF4">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#ECEFF4">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#ECEFF4">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#ECEFF4">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  id: &#x27;7fb76422-3a8c-4c87-bbad-7c8bb68399a0&#x27;,  target: {    selector: {      type: &#x27;RECTANGLE&#x27;,      geometry: {        bounds: {            minX: 272,            minY: 169,            maxX: 393,            maxY: 259        },        x: 272,        y: 169,        w: 121,        h: 90,      }    }  }}"><div></div></button></div></figure></div>
<ul>
<li>
<p><code dir="auto">id</code> - a unique identifier for the annotation. The ID can be any
alphanumeric string. If you provide an Annotation without an ID,
Annotorious will automatically assign a globally unique UUID on load.
Annotations created by users will also receive a UUID
automatically.</p>
</li>
<li>
<p><code dir="auto">target</code> - the target object represents the part of the image
that the annotation is associated with. In this example, the
<code dir="auto">selector</code> property specifies that the annotation is a
rectangular selection with the given coordinates and dimensions.</p>
</li>
<li>
<p><code dir="auto">bounds</code> - represents the bounding box of the annotation, useful
for quick calculations without parsing the entire geometry.</p>
</li>
</ul>
<p>Here’s another example for a polygon annotation, where the
<code dir="auto">geometry</code> object contains a list of X/Y points.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">  </span></span><span style="--0:#D8DEE9">id</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">64d7dda8-c156-4e1e-a4f9-55192399208b</span><span style="--0:#ECEFF4">'</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">  </span></span><span style="--0:#D8DEE9">target</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">    </span></span><span style="--0:#D8DEE9">selector</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">      </span></span><span style="--0:#D8DEE9">type</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">POLYGON</span><span style="--0:#ECEFF4">'</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">      </span></span><span style="--0:#D8DEE9">geometry</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">        </span></span><span style="--0:#D8DEE9">bounds</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">          </span></span><span style="--0:#D8DEE9">minX</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">60</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">          </span></span><span style="--0:#D8DEE9">minY</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">88</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">          </span></span><span style="--0:#D8DEE9">maxX</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">248</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">          </span></span><span style="--0:#D8DEE9">maxY</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">223</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#ECEFF4">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">        </span></span><span style="--0:#D8DEE9">points</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> [</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">          </span></span><span style="--0:#D8DEE9">[</span><span style="--0:#C2A3BC">60</span><span style="--0:#ECEFF4">,</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">221</span><span style="--0:#D8DEE9">]</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">          </span></span><span style="--0:#D8DEE9">[</span><span style="--0:#C2A3BC">136</span><span style="--0:#ECEFF4">,</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">88</span><span style="--0:#D8DEE9">]</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">          </span></span><span style="--0:#D8DEE9">[</span><span style="--0:#C2A3BC">248</span><span style="--0:#ECEFF4">,</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">148</span><span style="--0:#D8DEE9">]</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">          </span></span><span style="--0:#D8DEE9">[</span><span style="--0:#C2A3BC">172</span><span style="--0:#ECEFF4">,</span><span style="--0:#D8DEE9"> </span><span style="--0:#C2A3BC">223</span><span style="--0:#D8DEE9">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">        </span></span><span style="--0:#D8DEE9">]</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#ECEFF4">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#ECEFF4">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#ECEFF4">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#ECEFF4">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  id: &#x27;64d7dda8-c156-4e1e-a4f9-55192399208b&#x27;,  target: {    selector: {      type: &#x27;POLYGON&#x27;,      geometry: {        bounds: {          minX: 60,          minY: 88,          maxX: 248,          maxY: 223        },        points: [          [60, 221],          [136, 88],          [248, 148],          [172, 223]        ]      }    }  }}"><div></div></button></div></figure></div>
<h2 id="annotation-bodies">Annotation Bodies</h2>
<p>In addition to the <code dir="auto">target</code>, annotations can also have one or more
<code dir="auto">bodies</code>. The <code dir="auto">bodies</code> property is designed to carry application-specific
annotation payload, such as comments, tags, or other metadata.</p>
<p>It’s important to note that Annotorious doesn’t process or display
body information directly. Instead, bodies serve as an extensible
data structure that you can use according to your application’s
needs, e.g. to drive info popups, hover tooltips, or data-driven
filters and styles.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">  </span></span><span style="--0:#D8DEE9">id</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">64d7dda8-c156-4e1e-a4f9-55192399208b</span><span style="--0:#ECEFF4">'</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">  </span></span><span style="--0:#D8DEE9">bodies</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> [</span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#88C0D0">id</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">3f4d0a8c-803a-4e59-ad0b-20c82d87c815</span><span style="--0:#ECEFF4">'</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#88C0D0">purpose</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">commenting</span><span style="--0:#ECEFF4">'</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#88C0D0">value</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">This is a comment</span><span style="--0:#ECEFF4">'</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#ECEFF4">}</span><span style="--0:#D8DEE9">]</span><span style="--0:#ECEFF4">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#D8DEE9">  </span></span><span style="--0:#D8DEE9">target</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#A5ADBB">// ...</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#ECEFF4">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#ECEFF4">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="{  id: &#x27;64d7dda8-c156-4e1e-a4f9-55192399208b&#x27;,  bodies: [{    id: &#x27;3f4d0a8c-803a-4e59-ad0b-20c82d87c815&#x27;,    purpose: &#x27;commenting&#x27;,    value: &#x27;This is a comment&#x27;  }],  target: {    // ...  }}"><div></div></button></div></figure></div>
<p>The structure of bodies in Annotorious is closely aligned with
the W3C Web Annotation Data Model, with a few small differences
and simplifications.</p>
<ul>
<li><code dir="auto">id</code>: any alphanumeric string. If you provide a body without an
ID, Annotorious will automatically assign a UUID on load.</li>
<li><code dir="auto">purpose</code>: used <a href="https://www.w3.org/TR/annotation-model/#motivation-and-purpose">similarly to the W3C model</a>,
identifying the reason for the inclusion of the body in the annotation.</li>
<li><code dir="auto">value</code>: a generic field that you can use according to your
application’s needs.</li>
</ul>
<p>Other optional fields include:</p>
<ul>
<li><code dir="auto">creator</code>: the user who created the body.</li>
<li><code dir="auto">created</code>: the creation timestamp of the body.</li>
<li><code dir="auto">updatedBy</code>: the user who last updated the body.</li>
<li><code dir="auto">updated</code>: stores the last update timestamp of the body.</li>
</ul>
<h3 id="leveraging-bodies-in-your-application">Leveraging Bodies in Your Application</h3>
<p>While Annotorious provides the structure for the bodies, it’s up
to you as the developer to decide how to use them.</p>
<p>Here are some ways to leverage annotation bodies:</p>
<ol>
<li><strong>Custom popups:</strong> display body information when users
interact with annotations. This could include showing comments,
tags or metadata in a tooltip or sidebar.</li>
<li><strong>Data-driven styles:</strong> use body properties to dynamically style
annotations. For example:
<ul>
<li>Apply difference styles based on the <code dir="auto">purpose</code>, e.g. different
colors for <code dir="auto">commenting</code> vs <code dir="auto">tagging</code>.</li>
<li>Use the <code dir="auto">value</code> of <code dir="auto">tagging</code> bodies to color-code annotations
based on label values.</li>
</ul>
</li>
<li><strong>Data-driven filters:</strong> filter annotations dynamically, based
on body properties such as <code dir="auto">purpose</code>, <code dir="auto">creator</code> or <code dir="auto">updated</code>
timestamp.</li>
<li><strong>Application-Specific Metadata:</strong> store any additional
metadata your application needs in the value field, or by
adding your own properties to the body object.</li>
</ol>
<p>Annotorious provides a number of helpers and utility functions
to simplify these scenarios. To read more, see documentation on:</p>
<ul>
<li>Popup helpers for <a href="#">React</a> and <a href="#">Svelte</a>.</li>
<li><a href="#">Data-driven styling</a></li>
<li><a href="#">Data-driven filters</a></li>
</ul>
<h2 id="key-differences-from-the-w3c-model">Key Differences from the W3C Model</h2>
<p>While the Annotorious model shares similarities with the W3C Web
Annotation Data Model, there are key differences designed to
enhance performance and simplify usage when building web applications:</p>
<ol>
<li>
<p><strong>Simplified Structure:</strong> Annotorious makes no claim to support
the full range of the extensive W3C Web Annotation standard.
Annotorious streamlines the annotation structure to focus on the
essential elements that it implements, while staying close enough
to the W3C model to make crosswalking as easy as possible.</p>
</li>
<li>
<p><strong>Optimized for Performance:</strong> the model prioritizes performance
by having explicit representations for shape geometry, thus avoiding
the need to repeatedly parse and serialize the selectors from and to
the W3C model’s string-based representations. For example, Annotorious
uses direct coordinate values instead of SVG path strings, allowing
for faster rendering and manipulation of annotations.</p>
</li>
<li>
<p><strong>Ease of Use:</strong> Annotorious aims to be intuitive and easy to use,
with a focus on providing a smooth developer experience. Whereas
the W3C model is designed to be more general-purpose, Annotorious’
restricted use case allows it to make certain assumptions and
simplifications.</p>
</li>
</ol>
<h2 id="the-w3c-adapter">The W3C Adapter</h2>
<p>Despite the differences, Annotorious also provides a built-in feature
that allows you to use W3C Web annotations directly, through a
component called the <code dir="auto">W3CImageAdapter</code>.</p>
<p>The <code dir="auto">W3CImageAdapter</code> automatically crosswalks annotations between
the W3C- and the native model, allowing you to use the Annotorious
API while still adhering to the W3C standard. Through the adapter,
Annotorious offers the best of both worlds - the performance and
ease of use of its native data model, with the flexibility to conform
to the W3C standard when needed.</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="js"><code><div class="ec-line"><div class="code"><span style="--0:#94AFCA">import</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span><span style="--0:#D8DEE9"> </span><span style="--0:#8FBCBB">createImageAnnotator</span><span style="--0:#ECEFF4">,</span><span style="--0:#D8DEE9"> </span><span style="--0:#8FBCBB">W3CImageAdapter</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">}</span><span style="--0:#D8DEE9"> </span><span style="--0:#94AFCA">from</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">@annotorious/annotorious</span><span style="--0:#ECEFF4">'</span><span style="--0:#94AFCA">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#94AFCA">import</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">@annotorious/annotorious/annotorious.css</span><span style="--0:#ECEFF4">'</span><span style="--0:#94AFCA">;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#94AFCA">const</span><span style="--0:#D8DEE9"> anno </span><span style="--0:#94AFCA">=</span><span style="--0:#D8DEE9"> </span><span style="--0:#88C0D0">createImageAnnotator</span><span style="--0:#D8DEE9">(</span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">sample-image</span><span style="--0:#ECEFF4">'</span><span style="--0:#ECEFF4">,</span><span style="--0:#D8DEE9"> </span><span style="--0:#ECEFF4">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#88C0D0">adapter</span><span style="--0:#ECEFF4">:</span><span style="--0:#D8DEE9"> </span><span style="--0:#88C0D0">W3CImageAdapter</span><span style="--0:#D8DEE9">(</span><span style="--0:#ECEFF4">'</span><span style="--0:#A3BE8C">sample-image</span><span style="--0:#ECEFF4">'</span><span style="--0:#D8DEE9">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#ECEFF4">}</span><span style="--0:#D8DEE9">)</span><span style="--0:#94AFCA">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import { createImageAnnotator, W3CImageAdapter } from &#x27;@annotorious/annotorious&#x27;;import &#x27;@annotorious/annotorious/annotorious.css&#x27;;const anno = createImageAnnotator(&#x27;sample-image&#x27;, {  adapter: W3CImageAdapter(&#x27;sample-image&#x27;)});"><div></div></button></div></figure></div> </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links astro-u2l5gyhi" dir="ltr"> <a href="/guides/annotating-images/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span class="astro-u2l5gyhi"> Previous <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Annotating Images</span> </span> </a> <a href="/guides/openseadragon/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span class="astro-u2l5gyhi"> Next <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">OpenSeadragon</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>